set -g fish_greeting

set -gx EDITOR cursor
set -gx VISUAL cursor

{{- if .is_macos }}
if test -f /opt/homebrew/bin/brew
    eval (/opt/homebrew/bin/brew shellenv)
end
{{- end }}

fish_add_path ~/.cargo/bin
fish_add_path ~/.local/bin

# Note: .local/bin/env is a bash script and cannot be sourced in fish
# If you need to use it, run it manually or convert it to a fish script

{{- if .is_macos }}
# Google Cloud SDK
if test -f ~/google-cloud-sdk/path.fish.inc
    source ~/google-cloud-sdk/path.fish.inc
end

if test -f ~/google-cloud-sdk/completion.fish.inc
    source ~/google-cloud-sdk/completion.fish.inc
end

# pnpm
set -gx PNPM_HOME "$HOME/Library/pnpm"
fish_add_path $PNPM_HOME

# Conda initialization
if test -f /opt/homebrew/Caskroom/miniconda/base/etc/fish/conf.d/conda.fish
    source /opt/homebrew/Caskroom/miniconda/base/etc/fish/conf.d/conda.fish
else if test -f ~/miniconda3/etc/fish/conf.d/conda.fish
    source ~/miniconda3/etc/fish/conf.d/conda.fish
end
{{- else }}
# Conda initialization (Linux)
if test -f ~/miniconda3/etc/fish/conf.d/conda.fish
    source ~/miniconda3/etc/fish/conf.d/conda.fish
end
{{- end }}

# uv shell completion
if type -q uv
    uv generate-shell-completion fish | source
end

# Starship prompt
if type -q starship
    starship init fish | source
end

# Aliases
alias ll="ls -lah"
alias g="git"
alias c="cursor"
alias py="python3"
